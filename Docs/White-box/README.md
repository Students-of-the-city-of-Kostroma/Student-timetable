# Методические рекомендации к использованию метода тестирования "Белый ящик"
## Расположение файлов отчета
В результате разработки очтета, будут разаработаны 3 файла:
- code.png - изображение с разметкой кода
- graph.png - изображение с управляющим графом
- whiteBox.md - тестовый файл с отчетом.
Если тестовый отчет пишется для метода `Insert` класса `CTeacher`, то указанные выше файлы должны располагаться в папке `UnitTestOfTimetableOfClasse/UT_CTeacher/UT_Insert`.
## Содержание отчета
Подход тестирования “Белый ящик” предназначен для тестирования метода с известным тестировщику кодом. Отчет должен содержать следующие подзаголовки:
   - Разметка кода
   - Управляющий граф
   - Маршруты
   - Тестовые сценарии
### Заголовок отчета
Заголовок отчета должен содержать сведения о том, какой метод какого объекта тестируется. Пример: **Тестирование метода Update класса CTeacher**
### Разметка кода
Отчет о тестировании должен содержать снимок тестируемого кода, начиная от заголовка, заканчивая последним оператором (скобкой). На снимке кода необходимо провести разметку кода по следующим правилам:
   - Рядом с каждым оператором необходимо поставить порядковый номер.
   - Линейные участки кода объединяются и для них указывается общий номер, то есть несколько операторов могут иметь одну числовую метку
   - Каждое простое условие должно иметь свою уникальную метку, то есть составные условия находящихся в одной строке будут иметь несколько меток.

Например:

![alt text](CODE.PNG "Разметка кода")
### Управляющий граф
Постройте управляющий граф должен соответствовать свойствам КДА. Вершинами этого графа будут числовые метки из размеченного кода, а ребра будут соответствовать переходам от оператора к оператору. На получившемся графе необходимо указать регионы. Имя региона состоит из буквы R и цифры, например R1, R2, R3 и т.д. Первый регион принято указывать на внешней области графа, то есть для алгоритма у которого нет условий и ветвлений будет один регион R1. Метки остальных регионов располагаются внутри области ограниченной ребрами графа. Принято регионы располагать так, чтобы регины с меньшим номером располагались ближе к начальной вершине.

Например:

![alt text](GRAPH.PNG "Управляющий граф")
### Маршруты
Рассчитайте кратчайшие маршруты по которым можно было бы обойти регионы. Для региона R1 это будет самый короткий маршрут, как правило он единственный на графе и будет содержать наименьшее количество вершин. Остальные маршруты берут за основу маршрут R1 и дополняют его некоторыми петлями соответствующие своим регионам. При правильной расстановке регионов и выделении маршрутов, получится список маршрутов виде “лестницы”.
Например:

- R1=0-1-2-8
- R2=0-1-3-4-7-8
- R3=0-1-3-4-5-4-7-8
- R4=0-1-3-4-5-6-4-7-8

### Тестовые сценарии
Составьте таблицу сценариев со столбцами:
   - **Регион** - метка региона из графа. Тест должен пройти по всем вершинам региона хотя бы один раз и ни заходить на вершины, которых нет в регионе(на маршруте).
   - **Идентификатор теста** - составляется по шаблону Test_НомерЗадачи, где номер задачи которая содержит описание алгоритма или задание для которого был написан тестируемый код. Если тестируемый метод изменяет систему за пределами метода, то нужно учесть параметры системы, которые могут повлиять на работу метода, то есть для одного региона может быть несколько тестов.
   - **Идея теста** - содержит сведения о том, что покрывает этот тест. Это может быть некоторое ограничение или функция. Идея теста должна однозначно описывать что проверяется в данном тесте. Тест не может проверять сразу несколько ограничений или функций. Идея теста указывается человекопонятным языком, без технических уточнений. 
   - **Предварительное условие** - заполняется в тех случаях когда в методе используются переменные которые были созданы вне тестируемого метода и во входных параметрах не передавались. Чаще описывается состояние каких-то используемых в методе объектов.
   - **Входные параметры** - переменные которые передаются в тестируемый метод. Если переменная является структурой или объектом, то необходимо описать состояние объекта или структуры, при этом для значимых атрибутов указываются точные значения или правила по которым эти значения могут быть заполнены.
   - **Ожидаемый результат** - Если тестируемый метод является функцией, то необходимо описать что она возвращает. Если возвращается объект или структура, то для его описания действуют правила из предыдущего пункта. Если метод изменяет какие-то параметры системы, то эти параметры также нужно указать в этом поле. Тестировщик обязан проверить изменения в системе.
Вы можете получить маршруты для которых невозможно смоделировать ситуацию, это будет означать что данный маршрут недостижим. Наличие таких маршрутов необходимо обосновывать. Такие маршруты могут существовать из-за некоторых ограничений реализованных в методе и за его пределами. Например, для объекта который передается в тестируемый метод во входных параметрах, может быть реализованного ограничение на поле name не равно пустой строке в конструкторе класса и в теле тестируемого метода. В этом случае невозможно будет создать объект входного параметра с пустой строкой для достижения маршрута.
Например:

|Регион|Идентификатор теста|Идея теста|Предварительное условие|Входные параметры|Ожидаемый результат|
| --- | --- | --- | --- | --- | --- |
|R1|Test_1|Поиск минимального значения в пустом массиве||[]|-1|
|R2|Test_2|Поиск минимального значения в массиве||[3]|0|
|R3|Test_3|Поиск минимального значения, когда оно стоит на первой позиции||[3,4]|0|
|R4|Test_4|Поиск минимального значения когда оно стоит на последней позиции||[4,3]|1|

Примечание: Идентификатор теста нужно назвать в соответсвии с шаблоном описанном [здесь](/Docs/Unit-test/README.md)
